import numpy as np
from PIL import ImageGrab
import cv2
import pytesseract
import time

pytesseract.pytesseract.tesseract_cmd = "C:\Program Files (x86)\Tesseract-OCR\\tesseract.exe"

def process_img(grey_img):
    txt = pytesseract.image_to_string(grey_img)
    print(txt)
    if txt == "Respawn":
        return True
    return False

def main():
    while True:
        img = ImageGrab.grab(bbox=(1490,935,1600,970))
        img = np.array(img)
        img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
        cv2.imshow('window', img)

        if process_img(img):
            print("being raided")
            cv2.destroyAllWindows()
            break

        if cv2.waitKey(25) & 0xFF == ord('q'):
            cv2.destroyAllWindows()
            break
        time.sleep(5)

if __name__ == '__main__':
    main()
